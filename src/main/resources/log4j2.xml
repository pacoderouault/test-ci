<?xml version= "1.0" encoding= "UTF-8"?>
<configuration status= "warn">
    <properties>
        <property name="basePath">logs</property>
        <property name="filename">NGSDiag.log</property>
        <property name="rollingFilename">NGSDiag-%d{yyyy-MM-dd}-%i.log.gz</property>
        <property name="pattern">[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} â€“ %msg%n</property>
    </properties>

    <appenders>
        <rollingfile name="fileLogger" fileName="${basePath}/${filename}" filePattern="${basePath}/${rollingFilename}">
            <patternlayout>
                <pattern>${pattern}</pattern>
            </patternlayout>
            <policies>
                <timebasedtriggeringpolicy />
                <SizeBasedTriggeringPolicy size="10 MB" />
            </policies>
            <DefaultRolloverStrategy max="20" />
        </rollingfile>

        <console name= "console" target= "SYSTEM_OUT">
            <patternlayout pattern="${pattern}"/>
        </console>
    </appenders>
    <loggers>
        <root level="all" additivity= "false">
            <appender-ref ref="console"/>
            <appender-ref ref="fileLogger" level="all"/>
        </root>
        <logger name="fr.chulimoges.NGSdiag" level="all" additivity="true">
            <appender-ref ref="console" level="all"/>
            <appender-ref ref="fileLogger" level="all"/>
        </logger>
    </loggers>
</configuration>